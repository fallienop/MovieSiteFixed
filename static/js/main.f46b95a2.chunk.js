(this["webpackJsonpbootcamp-m4-starter"]=this["webpackJsonpbootcamp-m4-starter"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports={main:"Details_main__Evov6",movietitle:"Details_movietitle__2hNEi",gotomovie:"Details_gotomovie__2KwrH"}},,,,,,,function(e,t,a){e.exports=a(46)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),o=a(13),r=a.n(o),l=a(10),m=a(2);a(28),a(29);class n extends s.Component{render(){return i.a.createElement("header",{className:"header"},i.a.createElement("h1",{className:"header__title"},"MustSee"))}}var c=n,p=(a(30),a(4)),v=a(15);const h=Object(v.b)({name:"movemovie",initialState:{apimovies:[],searchinput:"",savedLists:[],movieDetail:"fsddf"},reducers:{movemovies:(e,t)=>{e.apimovies.find(e=>e.title===t.payload.title)||e.apimovies.push(t.payload)},movesearch:(e,t)=>{e.searchinput=t.payload},savelist:(e,t)=>{void 0!==e.apimovies&&0!=e.apimovies.length&&e.savedLists.push(t.payload)},clearapimovies:e=>{e.apimovies=[]},setDetails:(e,t)=>{e.movieDetail=t.payload},removeApiMovie:(e,t)=>{e.apimovies.splice(Number(t.payload),1)},removeList:(e,t)=>{e.savedLists.splice(Number(t.payload),1)}}}),{movemovies:d,movesearch:u,savelist:E,clearapimovies:b,setDetails:N,removeApiMovie:y,removeList:_}=h.actions;var g=h.reducer;class f extends s.Component{constructor(){super(...arguments),this.state={searchLine:"",newData:"fds"},this.searchLineChangeHandler=e=>{this.setState({searchLine:e.target.value})},this.searchBoxSubmitHandler=e=>{e.preventDefault(),this.sendSearchInput()},this.sendSearchInput=()=>{this.props.movesearch(this.state.searchLine)}}render(){const{searchLine:e}=this.state;return i.a.createElement("div",{className:"search-box"},i.a.createElement("form",{className:"search-box__form",onSubmit:this.searchBoxSubmitHandler},i.a.createElement("label",{className:"search-box__form-label"},"Search movie by title:",i.a.createElement("input",{value:e,type:"text",className:"search-box__form-input",placeholder:"For example, Shawshank Redemption",onChange:this.searchLineChangeHandler})),i.a.createElement("button",{type:"submit",className:"search-box__form-submit",disabled:!e},"Search")))}}var x=Object(p.b)(e=>({newData:e.movemovie.searchinput}),e=>({movesearch:t=>e(u(t))}))(f);a(35);class D extends s.Component{constructor(e){super(e),this.addToListClicker=()=>{const{imdbID:e,title:t,year:a,poster:s}=this.props;let i={imdbID:e,title:t,year:a,poster:s};this.props.movemovies(i)},this.seeDetails=()=>{const{imdbID:e,title:t,year:a,poster:s}=this.props;let i={imdbID:e,title:t,year:a,poster:s};console.log(this.props),this.props.setDetails(i)},this.h3text=i.a.createRef()}render(){const{imdbID:e,title:t,year:a,poster:s}=this.props,o=e=>{let{func:t,to:a,type:s,children:o}=e;return i.a.createElement(l.b,{to:a},i.a.createElement("button",{onClick:t,type:s},o))};return i.a.createElement("article",{className:"movie-item"},i.a.createElement("img",{className:"movie-item__poster",src:s,alt:t}),i.a.createElement("div",{className:"movie-item__info"},i.a.createElement("h3",{ref:this.h3text,className:"movie-item__title"},t,"\xa0(",a,")"),i.a.createElement("button",{onClick:this.addToListClicker,type:"button",className:"movie-item__add-button"},"Add to the list"),i.a.createElement(o,{func:this.seeDetails,to:"/details",type:"button",className:"movie-item__add-button"},"  Details")))}}const L={movemovies:d,setDetails:N};var C=Object(p.b)(null,L)(D);a(41);class S extends s.Component{constructor(){super(...arguments),this.state={movies:[{imdbID:"tt3896198",title:"Guardians of the sGalaxy Vol. 2",year:2017,poster:"https://m.media-amazon.com/images/M/MV5BNjM0NTc0NzItM2FlYS00YzEwLWE0YmUtNTA2ZWIzODc2OTgxXkEyXkFqcGdeQXVyNTgwNzIyNzg@._V1_SX300.jpg"},{imdbID:"tt0068646",title:"The Godfather",year:1972,poster:"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"}],searchdata:""},this.getMoviesBySearch=async e=>{const t=await fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=f1d20451"));return await t.json()}}componentDidUpdate(e){e.searchdata!==this.props.searchdata&&this.getMoviesBySearch(this.props.searchdata).then(e=>{try{const t=e.Search.map(e=>({imdbID:e.imdbID,title:e.Title,year:e.Year,poster:e.Poster}));this.setState(e=>({movies:[...t]}))}catch(t){}})}render(){return i.a.createElement("ul",{className:"movies"},this.state.movies.map(e=>i.a.createElement("li",{className:"movies__item",key:e.imdbID},i.a.createElement(C,e))))}}var I=Object(p.b)(e=>({searchdata:e.movemovie.searchinput}))(S);a(42);class k extends s.Component{constructor(e){super(e),this.saveListToStore=()=>{const{movies:e}=this.props,{savedLists:t}=this.props,a=this.inputt.current.value;t.find(e=>e.title==a)||(this.props.savelist({title:a,listmovies:e}),this.props.clearapimovies(),this.inputt.current.value="")},this.removeApiMovieByIndex=e=>{this.props.removeApiMovie(e)},this.state={title:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",movies:[{imdbID:"tt0068646",title:"The Godfather",year:1972,poster:""}]},this.inputt=i.a.createRef()}render(){const{movies:e}=this.props;return i.a.createElement("div",{className:"favorites"},i.a.createElement("input",{placeholder:"New list",ref:this.inputt,className:"favorites__name"}),i.a.createElement("ul",{className:"favorites__list"},e.map((e,t)=>i.a.createElement("div",{className:"favoriteMovie",key:e.imdbID},i.a.createElement("li",{className:"limarg",key:e.imdbID},"  ",e.title," (",e.year,")"),i.a.createElement("button",{onClick:()=>this.removeApiMovieByIndex(t),className:"removeMovieButton"},"+")))),i.a.createElement("button",{onClick:this.saveListToStore,type:"button",className:"favorites__save"},"Save list"))}}const w={savelist:E,clearapimovies:b,removeApiMovie:y};var M=Object(p.b)(e=>({movies:e.movemovie.apimovies,savedLists:e.movemovie.savedLists}),w)(k);class T extends s.Component{render(){return i.a.createElement("div",{className:"main-page"},i.a.createElement("main",{className:"main-page__content"},i.a.createElement("section",{className:"main-page__main-section"},i.a.createElement("div",{className:"main-page__search-box"},i.a.createElement(x,null)),i.a.createElement("div",{className:"main-page__movies"},i.a.createElement(I,null))),i.a.createElement("aside",{className:"main-page__favorites"},i.a.createElement(M,null))))}}var j=T;a(43);class B extends s.Component{constructor(){super(...arguments),this.state={movies:[{title:"The Godfather",year:1972,imdbID:"tt0068646"}],isCollapsedStates:Array(this.props.savedLists.length).fill(!1)},this.toggleCollapse=e=>{this.setState(t=>{const a=[...t.isCollapsedStates];return a[e]=!a[e],{isCollapsedStates:a}})},this.removeListByIndex=e=>{this.props.removeList(e)}}render(){const{isCollapsedStates:e}=this.state,{savedLists:t}=this.props;return i.a.createElement("div",{className:"list-page"},i.a.createElement("h1",{className:"list-page__title"},"My Lists"),i.a.createElement("ul",{className:"mainList"},t.map((t,a)=>i.a.createElement("div",{className:"alist",key:t.title},i.a.createElement("div",{className:"listtitle"},i.a.createElement("p",null,""==t.title?"Untitled List":t.title),i.a.createElement("button",{onClick:()=>this.removeListByIndex(a),className:"removeListButton"},"+"),i.a.createElement("div",{onClick:()=>this.toggleCollapse(a),className:"switch ".concat(e[a]?"hideandcollapse":"")},i.a.createElement("p",null,"^"))),t.listmovies.map((t,s)=>i.a.createElement("div",{key:s,className:e[a]?"listmovieshow":"listmoviehide"},i.a.createElement("li",{style:{display:"flex",marginTop:"10px",gap:"20px"}},i.a.createElement("img",{alt:"moviet",width:"80px",height:"80px",style:{borderRadius:"50px"},src:t.poster}),i.a.createElement("p",{style:{marginTop:"20px"}},t.title," (",t.year,")"))))))))}}const O={removeList:_};var A=Object(p.b)(e=>({savedLists:e.movemovie.savedLists}),O)(B),z=a(16),Y=a.n(z);var X=()=>{const e=Object(p.c)(e=>e.movemovie.movieDetail);return i.a.createElement("div",{className:Y.a.main},i.a.createElement("h2",{className:Y.a.movietitle},e.title),i.a.createElement("img",{src:e.poster,alt:"poster"}),i.a.createElement("a",{style:{marginBottom:"20px"},target:"_blank",className:Y.a.gotomovie,href:"https://www.imdb.com/title/".concat(e.imdbID)},"go to movie"))};a(44),a(45);class G extends i.a.Component{getClassName(e){let{isActive:t,exact:a}=e;return t&&a?"active":""}render(){return i.a.createElement("div",{className:"app"},i.a.createElement(c,null),i.a.createElement(l.a,null,i.a.createElement("ul",{style:{display:"flex",gap:"10px",marginLeft:"20px",marginTop:"6px"}},i.a.createElement("li",null,i.a.createElement(l.c,{className:this.getClassName,to:"/",exact:!0},"Home")),i.a.createElement("li",null,i.a.createElement(l.c,{className:this.getClassName,to:"/list"},"List"))),i.a.createElement(m.c,null,i.a.createElement(m.a,{path:"/",exact:!0,component:j}),i.a.createElement(m.a,{path:"/list",exact:!0,component:A}),i.a.createElement(m.a,{path:"/details",exact:!0,component:X}))))}}var V=G;const H=Object(v.a)({reducer:{movemovie:g},middleware:e=>e()});r.a.render(i.a.createElement(l.a,null,i.a.createElement(p.a,{store:H},i.a.createElement(V,null))),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.f46b95a2.chunk.js.map